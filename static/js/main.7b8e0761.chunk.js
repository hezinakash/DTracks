(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/Apple Music.bf745694.png"},104:function(e,t){e.exports="data:image/png;base64,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"},112:function(e,t,a){e.exports=a.p+"static/media/guitars.c38e43b7.jpg"},113:function(e,t,a){e.exports=a(218)},119:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},187:function(e,t,a){},192:function(e,t,a){},216:function(e,t,a){},218:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),o=(a(119),a(16)),u=a(17),s=a(19),i=a(18),m=a(20),h=(a(121),a(231)),p=a(227),E=(a(123),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t=e.query;a.props.submit(t)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{id:"navbar"},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Brand,null,r.a.createElement("a",{href:"/DTracks"},"Tracks"))))}}]),t}(n.Component)),d=Object(h.a)(E),f=a(230),b=a(232),k=a(226),g=a(103),v=a.n(g),y=a(104),A=a.n(y),S=(a(164),a(219)),j=function(e){return e.artworkUrl100?e.artworkUrl100:"song"===e.kind?v.a:A.a},T=function(e){var t=e.track;return r.a.createElement(S.a,{to:"/DTracks/"+t.trackId,className:"card",id:t.trackId},r.a.createElement("img",{className:"card-img-top",src:j(t),alt:t.trackName}),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},t.artistName," - ",t.trackName)))},w=a(220),O=a(149),q=a(221),I=(a(166),function(e){var t=e.tracks?e.tracks.map(function(e){return r.a.createElement(w.a,{xs:12,lg:2,key:e.trackId},r.a.createElement(T,{track:e}))}):r.a.createElement("h1",null,"Search for tracks");return r.a.createElement(O.a,{fluid:!0},r.a.createElement(q.a,null,r.a.createElement(w.a,{xs:12,className:"tracks"},r.a.createElement(q.a,null,t))))}),x=a(28),C=a.n(x),N=a(105),R=a(222),Q=a(229),D=a(89),J=a(189),M=(a(187),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={query:null,hasSubmited:!1},a.handleChange=function(e){""!==e.target.value.trim()&&a.setState(Object(N.a)({},e.target.id,e.target.value.trim()))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.query;a.setState({hasSubmited:!0}),t&&""!==t.trim()&&(a.input.value="",a.props.search(t))},a.getValidationState=function(){if(a.state.hasSubmited&&(!a.state.query||""===a.state.query.trim()))return"error"},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.handleSubmit,id:"searchForm"},r.a.createElement(R.a,{controlId:"query",validationState:this.getValidationState()},r.a.createElement(Q.a,{type:"text",placeholder:"Search...",onChange:this.handleChange,inputRef:function(t){return e.input=t}})),r.a.createElement(D.a,{type:"submit"},r.a.createElement(J.a,{glyph:"search"})))}}]),t}(n.Component)),H=(a(192),a(223)),W=a(224),K=a(228),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={queries:[]},a.getQueries=function(e,t){e&&C.a.get("http://localhost:8080/getTopTen").then(function(e){e&&a.setState({queries:e.data})}).catch(function(e){return console.log("Top ten error: ".concat(e))})},a.handleSelct=function(e,t){t.preventDefault(),a.props.select(a.state.queries[e])},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("http://localhost:8080/getTopTen").then(function(t){t&&e.setState({queries:t.data})}).catch(function(e){return console.log("Top ten error: ".concat(e))})}},{key:"render",value:function(){var e=this,t=this.state.queries.length>0?this.state.queries.map(function(t,a){return r.a.createElement(H.a,{eventKey:a,key:a,onSelect:e.handleSelct},t)}):null;return r.a.createElement(W.a,null,r.a.createElement(K.a,{title:"Top 10 searching",id:"topTen",onToggle:this.getQueries},t))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={query:null,tracks:null},a.updateQuery=function(e){a.setState({query:e})},a.saveQueryToDb=function(){C()({method:"post",url:"http://localhost:8080/addSearch",data:{query:a.state.query}}).then(function(e){console.log(e)}).catch(function(e){return console.log("Adding search to db error: ".concat(e))})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.state.query){this.saveQueryToDb();var t=this.state.query.replace(" ","+");C.a.get("https://itunes.apple.com/search?term=".concat(t,"&limit=25&entity=musicTrack")).then(function(e){return e.data}).then(function(t){if(t&&t.resultCount>0){var a=[];t.results.forEach(function(e){a.push(e)}),e.setState({tracks:a,query:null})}}).catch(function(e){return console.log("Searching tracks error: ".concat(e))})}}},{key:"render",value:function(){return r.a.createElement(O.a,{id:"home"},r.a.createElement(q.a,null,r.a.createElement(w.a,{xs:12,md:10},r.a.createElement(M,{search:this.updateQuery})),r.a.createElement(w.a,{xs:12,md:2,className:"topTen-wrapper"},r.a.createElement(Y,{select:this.updateQuery})),r.a.createElement(w.a,{xs:12},r.a.createElement(I,{tracks:this.state.tracks}))))}}]),t}(n.Component),U=a(111),F=a.n(U),X=(a(216),a(225)),V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={track:null,hasError:!1},a.bulidItem=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(w.a,{xs:12,md:4},r.a.createElement(X.a,{src:e.artworkUrl60,responsive:!0}),";"),r.a.createElement(w.a,{xs:12,md:8},r.a.createElement(q.a,{className:"track-info"},r.a.createElement(w.a,{xs:12,sm:6},r.a.createElement("label",null,"Artist: "),r.a.createElement("label",null,e.artistName)),r.a.createElement(w.a,{xs:12,sm:6},r.a.createElement("label",null,"Track: "),r.a.createElement("label",null,e.trackName)),r.a.createElement(w.a,{xs:12,sm:6},r.a.createElement("label",null,"Collection: "),r.a.createElement("label",null,e.collectionName)),r.a.createElement(w.a,{xs:12,sm:6},r.a.createElement("label",null,"Genre: "),r.a.createElement("label",null,e.primaryGenreName)),r.a.createElement(w.a,{xs:12,sm:6},r.a.createElement("label",null,"Duration: "),r.a.createElement("label",null,a.millisToMinutesAndSeconds(e.trackTimeMillis)))))),r.a.createElement(q.a,null,r.a.createElement("div",{className:"player-wrapper"},r.a.createElement(F.a,{url:e.previewUrl,playing:!0,controls:!0,volume:.5}))))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("https://itunes.apple.com/lookup?id=".concat(this.props.match.params.id)).then(function(e){return e.data}).then(function(t){e.setState({track:t.results[0],hasError:!1})}).catch(function(t){e.setState({hasError:!0}),console.log("Track error: ".concat(t))})}},{key:"millisToMinutesAndSeconds",value:function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a}},{key:"render",value:function(){var e=this.state,t=e.track,a=e.hasError,n=t?this.bulidItem(t):a?r.a.createElement("h1",null,"Track was not found"):r.a.createElement("h1",null,"Loading...");return r.a.createElement(O.a,{className:"track-wrapper"},r.a.createElement(q.a,null,r.a.createElement(w.a,{xs:10,md:8,className:"track"},n)))}}]),t}(n.Component),B=a(112),L=a.n(B),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).style={backgroundImage:"url(".concat(L.a,")")},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"App",style:this.style},r.a.createElement(d,null),r.a.createElement(b.a,null,r.a.createElement(k.a,{exact:!0,path:"/DTracks",component:z}),r.a.createElement(k.a,{path:"/DTracks/:id",component:V}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[113,2,1]]]);
//# sourceMappingURL=main.7b8e0761.chunk.js.map